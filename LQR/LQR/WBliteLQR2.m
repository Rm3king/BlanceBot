clear; 
clc;
% L = 	0.08        %腿长160mm
% Lm = 	0.08        
% Im =	4.1494*Ip+0.3082
% Ip =	0.003458269
% 

% L = 	0.09        %腿长180mm
% Lm = 	0.09      
% Ip =	0.004229245
% Im =	4.1494 * Ip+0.3082

% L = 	0.115        %腿长230mm
% Lm = 	0.115        
% Im =	4.1494*Ip+0.3082
% Ip =	0.00652682
% 
% L = 	0.16        %腿长320mm
% Lm = 	0.16        
% Im =	4.1494*Ip+0.3082
% Ip =	0.01198786


% 
fprintf('\n\t//-K in Arm Math Matrix Order: K00 K01 K02 K03 K04 K05 K10 K11 K12 K13 K14 K15\n')

g =	    9.8011;  %重力加速度(SZ)
M =  	11.386;  %机体质量
mw = 	1.412;   %驱动轮转子质量
mp = 	1.251;    %摆杆质量
Iw =	0.00233399;  %驱动轮转子转动惯量
R =	    0.075;   %驱动轮半径
l = 	0.02054;    %机体重心到其转轴距离
a = 0.108974158;
BasicData=[g,M/2,R,l,mw,mp,Iw];
% ValData = [L,Lm,Im,Ip];

%每10mm算一个
%腿长150mm
ValData = [0.116,0.034,a,0.009288675];

% Q = [300 0 0 0 0 0; 0 100 0 0 0 0; 0 0 100 0 0 0; 0 0 0 100 0 0; 0 0 0 0 5000 0; 0 0 0 0 0 10]; %权重矩阵 Q 的设计
%Q = [800 0 0 0 0 0; 0 300 0 0 0 0; 0 0 600 0 0 0; 0 0 0 200 0 0; 0 0 0 0 8000 0; 0 0 0 0 0 100]; %权重矩阵 Q 的设计
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; 
% R = [1 0; 0 0.5 ]; %权重矩阵 R 的设计
%2024
% 2.24 Q = [300 0 0 0 0 0; 0 180 0 0 0 0; 0 0 330 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; 
Q = [300 0 0 0 0 0; 0 200 0 0 0 0; 0 0 200 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4800 0; 0 0 0 0 0 20]; 
R = [5 0; 0 3 ]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))
%fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, %8.6f, %8.6%},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2),-K(2,5),-K(2,6))

%%腿长160mm
ValData = [0.118,0.042,a,0.0107100532845169];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.125,0.057,a,0.0138040778499579];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.127,0.061,a,0.0148374694685144];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.131,0.068,a,0.0165142284610285];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.135,0.074,a,0.0183416715341035];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.14,0.081,a,0.0203156781696676];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.144,0.088,a,0.022429290030841];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.148,0.092,a,0.0239112529871359];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.152,0.098,a,0.0262347945998448];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.158,0.105,a,0.028666678004804];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.161,0.109,a,0.0303403913297717];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.166,0.115,a,0.0329168106403138];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.171,0.121,a,0.0355555939449514];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.175,0.125,a,0.0373396579133954];
%  Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
%  R = [15 0; 0 1]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.18,0.13,a,0.0400377397747617];
Q = [500 0 0 0 0 0; 0 180 0 0 0 0; 0 0 200 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
R = [5 0; 0 3]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))
%%腿长160mm
ValData = [0.185,0.135,a,0.0427432475252028];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.19,0.14,a,0.0454344805443938];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.194,0.145,a,0.0480896074940502];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.201,0.151,a,0.0515362025207683];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.205,0.155,a,0.0540235587342414];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.21,0.16,a,0.0571713714323725];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.215,0.164,a,0.0600851677083373];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.221,0.169,a,0.063336037776738];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0},\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

ValData = [0.227,0.173,a,0.066572803627223];
% Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
% R = [12 0; 0 10]; %权重矩阵 R 的设计
K = LQRFun(BasicData,ValData,Q,R);
fprintf('\t/* Normal -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{%8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f},\n',2*ValData(1),R(1,1),R(2,2),-K(1,1),-K(1,2),-K(1,3),-K(1,4),-K(1,5),-K(1,6),-K(2,1),-K(2,2),-K(2,3),-K(2,4),-K(2,5),-K(2,6))
fprintf('\t/* OffGround -K\tL=%8.6f\tR00=%2.2f\tR11=%2.2f */\n \t{0, 0, 0, 0, 0, 0, %8.6f, %8.6f, 0, 0, 0, 0}\n',2*ValData(1),R(1,1),R(2,2),-K(2,1),-K(2,2))

fprintf('\n');
% ConstA = [0 0 0 0 0 0];
% X0 = [pi/6 0 0 0 0 0];
% 
% Tc = ctrb(A,B); %能控性矩阵
% if (rank(Tc)==6) %判断是否满秩，如果“是”，则系统是可控的. 
%     fprintf('此系统是可控的！\n');
%     Q = [500 0 0 0 0 0; 0 10 0 0 0 0; 0 0 100 0 0 0; 0 0 0 150 0 0; 0 0 0 0 4000 0; 0 0 0 0 0 13]; %权重矩阵 Q 的设计
%     R = [12 0; 0 10]; %权重矩阵 R 的设计
%     K=lqr(A,B,Q,R); %调用 lqr 函数用以求解状态反馈矩阵 K
% end
% K=lqr(A,B,Q,R); %调用 lqr 函数用以求解状态反馈矩阵 K
% fprintf('-K in Arm Math Matrix: %8.5f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f, %8.6f;\n',-K(1),-K(3),-K(5),-K(7),-K(9),-K(11),-K(2),-K(4),-K(6),-K(8),-K(10),-K(12))